name = "mindfi-mcp"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Disable source maps to avoid bundle errors with viem
upload_source_maps = false

[build]
# Skip processing source maps during build
[build.upload]
format = "modules"

[env.production]
name = "mindfi-mcp-production"

[[durable_objects.bindings]]
name = "DEFI_MCP_SERVER"
class_name = "DefiMcpServer"

[[migrations]]
tag = "initial"
new_sqlite_classes = ["DefiMcpServer"]

# Observability configuration
# Note: Observability features are configured via Cloudflare Dashboard
# or via wrangler commands, not in wrangler.toml for version 3.x
